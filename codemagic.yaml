# Automatically generated on 2020-10-14 UTC from https://codemagic.io/app/5f85c2ce9ccdab7215d00938/settings
# Note that this configuration is not an exact match to UI settings. Review and adjust as necessary.
# added comments


workflows:
  dev:
    name: DEV
    max_build_duration: 30
    environment:
      flutter: stable
      xcode: latest
      cocoapods: default
    cache:
      cache_paths: []
    triggering:
      events:
        - push
      branch_patterns:
        - pattern: '*DEV*'
          include: true
          source: true
    scripts:
      - |
        # set up debug keystore
        rm -f ~/.android/debug.keystore
        keytool -genkeypair \
          -alias androiddebugkey \
          -keypass android \
          -keystore ~/.android/debug.keystore \
          -storepass android \
          -dname 'CN=Android Debug,O=Android,C=US' \
          -keyalg 'RSA' \
          -keysize 2048 \
          -validity 10000
      - cd codemagicpoc && flutter packages pub get
      - cd codemagicpoc && flutter build apk --debug 
    artifacts:
      - codemagicpoc/build/**/outputs/**/*.apk
      - codemagicpoc/build/**/outputs/**/*.aab
      - codemagicpoc/build/**/outputs/**/mapping.txt
      - codemagicpoc/build/ios/ipa/*.ipa
      - codemagicpoc/tmp/xcodebuild_logs/*.log
      - codemagicpoc/flutter_drive.log
    publishing:
      email:
        recipients:
          - william.dev.acc@gmail.com
  preprod:
    name: PREPROD
    max_build_duration: 30
    environment:
      vars:
        CM_KEYSTORE: Encrypted(Z0FBQUFBQmZqeXdXOXlHUEIycXBvV2ZTZnZXS3NRNEFRcTltSUkwd2JoaEFYMjA0YjFORE96SGtaX2EtanYxOEkyRi1CQVZKRVh5eXc2NjEwSHdDcUxHUXR3bWp5VHNZWXVhVm43V2lHd0I3NFhoUC1LcUEtYm1zU0IzSW4xMnJKN0Q2NWxlUDAzdmZkSVRwZVBZMWhZaG40WGQtSTlmbjE4NHNrVGdpSEtfWml5ZEFrSC1vcEpiYjN2NmVBLWhSLTgtdk14QWZ4WWxpQ1NsRHdKeEFocGVzMXI3cFdHME5xYjhCZkVKS2l5eFZDMVdlcUYya1ZnUU9CUGtaNkRQTHZnNENMeDlQV1B3ZFFwZWt0NUV5Nm9TelcyMEN6ekZBVFBoeVNleGJmekgyUUFWRS1qRFlDejJoVkZQajN1akRRLUZqUWxKRGFjREdfWV83aW9rN19LaVRHM1hOZFlvMW9GMXhFS2xtWnk0MTFtWk9RaDZDQmRSZEgxVGNpQXVxZWRCVlBramZTcVcwM2RZVGQxQUpVOGRRbDMwVGR0N3ZJcjFpMWw2SURWdzF0cXZGcTFTZnQ0SVJQNFVVZG11YTFQdUlqQlFiTm9KUEw3WnNmWVd2TFFFaHhqa3pubU95UXRuQnp6WVNLaTdVSzdBb0hjWlVERXNPbFA1dmxBYnFEZlZ0MUpSQ1pRZHdQZEVDYTJsclFFX3ROWlZCLVpzMGItNGhPUkxBWG9YRTQ0cGF4RXo4V1VpS3FTNXNjdVU2clZJWlRHYm9Vd3NOV3d1VTBncE9OMzU5U0czQ0Y0LU1Zb2RGN0V5Y0RLM01FU0JGQ2ZDcE1tVVAzQ21yY1BHS0x3VVhTY0V3OWdQemNMUnhfenRZSXBzdGxYczg4SXdhZFc3eXI1REV2V2g4S0xMU01sT3lOeVJwVzkyNmp5ZHFFd2Vsek5XbzNyTGZaemxEdTZaWWx1U2lqSGtQRUxxbUFGWmhIaGE5VXJ2X3l1bEFEUWJFZ3RlUWxxbXAwQnY1U2VDV3VfMlAzTFY2QnFFalQyRXRUeFIwU1pmbnhYMlNDUWVnTDFSdUg0cU9ldTRYS0U0VkxyZUJZVVJJZEJ4dzNUWWp4RGhVNmJFMFlrTkdfMUtvUmZTSDF1d1FURHhXYVBrdXVKVUdUV3VlWWFuMENjYjZXY3E3WFo1RnhNMTREMGkzUmxFSFkxZ1VLMGRmcnNiWF85bGdsdlhjWGVsRFNMaWZUWlhyUUV5dkdHR3BCa1ctN2NsYVVKV3htT3Q2RFVXeXlnLUxwUTJtMVVQUEtiZjF0WWdRWXR6U3hiaWpBUHZqaEI0cGVOS1V2RnA3dzJVVEFWUUx4STl2VC1yNlVwVTl5VVJOd1lsNlNtbmlBa3ZDeWZMVE5YbndzNEk4YUxsVlhZM2ZlbVV6U09TcGtkOS1kRldlVWd1WFZFT2g4Ynk1eVdyWE5Nd2tUSmFMRkJHY0luNVJMNWFiOEJTcHZCYWFfVFNIZ3JOb00yU1A3UXg1bTY3enhDZFF4b2szVFhTcUZ4MEdYMndQWkNJRkFwT1VVZ3ZaN0ZIM3Z2UjNjVnFjdXpzeHhKMzdLek5SbW9wZThmdjlNOTVPX2JUNDdpUDZvQjlCeHBSMkprQzdQX0xVSmxPSEFISVRreXdTNDhLdzgtRW5OM2pjaHltSDZLOEU4emRhQ2o1WllPQWlwX0cwTjBqanN4Y0ZYXzU0Vmk4T2VfN2FNWTdHTkFrZTFYbzBSNXdFelgzSC11SWVxZV9nWElUYU1oWTJBdkZfbkwzcGhhSUh4eUczcXo4d2RMeTlDWm9iSEZFeVp4WWdGQ0tiSkdnaTQ2MFdCX3RvQ3Bob1NVeG5YY2FDb1EyMWQxRVVTR3BTLTFjWVkybktrc3VQdnhRYjFnYjJ3QzhpaktsRmFwbklsX2VzeFZ3ZVVjU1RZclJOM2k5TUNncnRYM0V0eHYxR2w3X0pxOENsbTRJMHdoMHFuWWMxZnNfSTNfN3I3ZlNwamJEWE9iSElOa2FCS3RvamczMXVTU2dWcjJLRmFXQnNfdXFhT0hkbTREWW1oY2F3VWdXWFNzUmRJQlUwUGtjSmhxemFvaHA3TGlqa1ZEbjU5cHgwOUlZUHFUZ2l3M0xMVWhOVjQtckVwT3pYT09Rd1ZIMU9yVDA3WXlFYThiQTJyNnZBbk9EM2lvODBEZEEtNmNXX0ZuY3VBcGM0MURHRU1ELVpDa2FGTEhMa3lrV3J1aUNfeG1udkRKRzB5Sk80a0xXakNjNkFqRlVpYUpsVEN1S2RhQU5nZGpOVFQ0dXE0dWtpOFNaVV8zWVJjcG5HZzM1THlJRHdSbng0SnJOOEU2Tmtldk1mUTVJdGRqNmJIdkJ3bXBuTlU2VnE3ZVVwNlB2SWpWVWdnYUY1dlJKVGtFaExoaS0xRzlWUGd5ODNXb3k2N0NsUXBsV2FQT1dZQWpwTnlKSU5aZEJEZmVuV3lVYXZTaTZpYjl2S3hXc2RHbmY4a2k0WDREQzY1bWdyZFlFT01yVjE3U3l3VkRHZXBQMTNFdjh0anlCUHZpdV9ZajZWT1lkRTNja0RvSjBFYmFiX0JxZUFuWGxiVDItLVZ2MkxpdnRqYlJXcEhaUXBZTnhKVHJuQ3NoOHo5T2dCZWkxMDlFRXJjNF9TUFRhSmt1eFJnSkNSVVh3YkFQMWRfWUxUaUR4Skd0VTJtZEZMcE9mN1JXeEFLUjRrbi1rdFo5WEp4UGFCWS1FS1g4N19yaWVuLW1McnB4Ymd3Sy1MeUswejY3ZHcxMjZ1ZlI3UjI0WC1fa09ZMEpkUWgzaEZpc3JfNkc0VnVCSmdHcF9HeklyZ2FzRDVCSU1UVkVDcVc3V0FZLTRUZzV3SENVbTFoenNtVEk4WVVFZm1QYlZyMVAxNy1QNEFNZjltUkZIVnh6bGNMdk9UQXFRdHR1TW56d1NDTW9teVljUlZ4NHc0VkhOWVZMZXVGSnZkRGNQWUlINHVlaUQyNmhVUk1PUFltMFJvbkZlRW54azZmdFVNSndyekFnUm9BZk9pTk5mUTg0WWNmMkVjSUdYaW5IUWRlaVFSbGNqN3NxZ0pBMVdfWTFBR3g3WnNQd3BjZERiaGdvZTNEUko2eHNxWTI0bi1vbk9ubWJIY0pWakRQMVVQWHo4Ty1BX1MtWm9GV0FxSDJBV1lZMmY2UWVMbWtzd0FuXzlTU3hKR2NZRlFZYUhhT19OM1BkbVE2Ty1BRkdBS2pBT0tYYlZkamtnblRzMzc2UjRPUWllR05NVWFkYWVlMmV5dGxsajlfVXNGd0x0MWVGaXlEeS1tRkVPRVB0SkhfRUEzT0drX3JiMVlXQXItZGZSYWQ5T1phZFlKNnVQSVk1bmdsUmJGaHFuTWowOWFrbmRPamJ6cEx2WnU2cUVVcktGSVFzcW1CTkFQbFlLSkg1R0NhRHo1VG5vOUFTQlNvczBjTTBRVWJ4R08yeTZFYkRFV3k1R1AyU0Q0djgwWlUxNVpJbnRTSm82UWJwM3lzVDJXYlpZLTk4MkdDVEIwdDI4THl0UmtHeVl5OEhCWGZnN3RnMURzZkhnS3N0QUExbzV3SURYZlRwb3VHNHlZVm1kelZLbk14Tm81QlQwSlNBYU5XTktWQ2w4VVl4QXA1eDZSZl9rVnVnbmoyTXpqM3VjSExLN2lDVmVFZE96Zmp1emNWclAtVklCS2dCd3hFcXY3MklLa1hnNk0xOWhfOHFsdmpOZzcycHNxd0h1bHhKZjdBck04dzBGbFYxVWdKVWo2eVlPa2lLTkJkZHllWHRWd0R1MXY2Z0ZuaUhtYWNVZmtlQ05qUHJFUWNQV0FUNGJwZ1VDenpsaTA5WjE4NXRQckc2VmFZTG9iYjVLUEJrT2k2bjhxU25SR0ZFd2ZkcnUxMW9xQ2x0Mk5WR3hHSk9LTlV5Wm95bUR2Tm1nZDM3OEF2dUhCUEQtbXdyUHBtdkFLMi1CTlR2TEJlMVVwYXNPU1NDM1pUVkpSLTl1bUxreFVVN3hFTDljMjU5VlNQcXhBYzQ2Q3lMeXBCSjZwd2paTC1HTWlVRjVtUU5PQWdPU1dDNWx0RDlkZDVXN193Q0o1eEVMVXIweXdUYTR4c0ZJT25yM3N6MXRhZG9mN25oNVFDZkl4WGQ4T0JlbEN1dE56RmFZR2U1LVJBaVhycG94XzQ5VnkzbVRjV3RIZzhMUWp6c1lmeVMwNjB3Qk14UE01NExiRExaam16V1V3cXE2cWpWUUlhNFBncUp3Z3VjX2FpRm1qc21pMEZhLUx6R3FWMXktNEVnSkhoU19fR2h3aDJ1ejhuSWJ3N1ZhYzlkeF8tUFRNeXNhN2FRYnJpeWlOQXZTZGVXOVhzdU8tWFIwaVdtSGRha2tUd3dyZVUteTVJdUE5bTVlTUNRMFpvVmVCSDU0el9hQmtBQzkzVVBzRzB1ME5wV2tDYVZrQjFGTk14Mi01WmYyYVlGczhNZ3FhbklISEJLY3hlOHVDTFlfLU15cjdtNjl2U3JLMGk0bkk0eW54aTh2WVZuWTRTZndwemN1RElKS3YtOFdEcHdPbEJPdDhCbkpBdGpiZVd3ai1vQVZYcG5UWVQzTTdRTGlTck05TWJlNWVQX1htbnpzbjlkOG4zX3FocTh1em5SeU5jLXBkcDZwaFprLXRSbkNVM3dOdkxSTHQ2U3ZKX29SX3I2R2dZVVRNdFBDRFFFQ0I0RlluaE1sU3VIbTNudnFFT3BSVTktemF1YTJVbjY2aHQ2bEtmaDJ4Z2RvNEw2eHc5bVJnVGpfWk9jMDdOa19LT0owN05ibU1kbkVsYm42MUdQWC1qcXB2cy1DR2tmSjBjUzRrQkVveG9YOGlLWEIwV0pnMkZfNFhZRGhILVpYOE90RWNtZ1VMQ012TVpvNVpORTctMXdLSDl0TDlIc0s1WlgyYTV1T1JSamYzTFBDWXhkeF9lU3N0UG5NRHgxSFRneDdQMnZwT2haWWdZRG5wOEM3UzBiN1FoMlFnRloxeFVRMThMSll6dTlwNFlVcVlPa1RlWlBKUGU1ZWljYXVjZXFvQ0ZIV0FlSXNUSV8ySXdMbndrR0I4Y3ZmcmxqQkw4anhEZlhMM01rbmU3b3lQZXN3UXhDb1lZcVRLMW41WUM1UE0xMTYwaDhpSnJ0ZDhESF9ULW51enNTQmR0NE9oTzRTejVuVndQdmJWQWhCN0VrMlllMTcydFV6cUZobk95ckw1akZ5THdYaUpOU0FWODRzQ242cjVxOFN0ZHNjeHUtblBGNXN4eHpMZWducFVPTzVPREQ0MTNObE9QTWNPWjZZcVVvZTRVM0JyZmxTVkVNV2lCWHozbUNYTHc1SG9aQUlyZjNsNk1sTVV3RFNSczl2OGJUZFRmZlNwX2Rib2RXWFE3YUItMlkzZ2ZEbVJKbkhYd09fX2VLdVN0VnZOcVZOZG41bFlxX2liZUtrdEprZDlLUVNMS0lsQzVQT3l0cWRVS0E9PQ==)
        CM_KEYSTORE_PASSWORD: Encrypted(Z0FBQUFBQmZqeXdXQmcxM1RwekdjaW51enhyQjRUek9DWE1NYzdvZklsRTRYT3dadjloY2xJRnM2M0w5bzhmTnQxc0dBQVlXMUw1cHYxcnh6cGx3dXRaVjM1bk1Nbk9PRGc9PQ==)
        CM_KEY_ALIAS_PASSWORD: Encrypted(Z0FBQUFBQmZqeXdXYU51d1NvMVk0cDRxRnVnbFNITU9fWlBLSmdjM0hkZ0NmZngwV1lDaHhwU2tYT182cHJEaU5OWWVSaWZfdkdjMmVDM3RSS08yc3JaeFhsVXRPWEluOEE9PQ==)
        CM_KEY_ALIAS_USERNAME: Encrypted(Z0FBQUFBQmZqeXdXQmpXdnpmNzd0NWY4VXB0TV9LOTdlRDhvT2R5Z3JZZ2daVWFFODNqQnFPcXpJb3JQTnFqWmpUZXFfdkNVNUF4b2JhS0R0LURxTDgyS09faGQ2UlQ5c3c9PQ==)
      flutter: stable
      xcode: latest
      cocoapods: default
    cache:
      cache_paths: []
    triggering:
      events:
        - push
      branch_patterns:
        - pattern: '*PREPROD*'
          include: true
          source: true
    scripts:
      - |
        # set up debug keystore
        rm -f ~/.android/debug.keystore
        storePassword=$CM_KEYSTORE_PASSWORD
        keyPassword=$CM_KEY_ALIAS_PASSWORD
        keyAlias=$CM_KEY_ALIAS_USERNAME
        storeFile=/tmp/keystore.keystore
        EOF
      - cd codemagicpoc && flutter packages pub get
      - cd codemagicpoc && flutter build apk --release --dart-define=project_env=preprod
    artifacts:
      - codemagicpoc/build/**/outputs/**/*.apk
      - codemagicpoc/build/**/outputs/**/*.aab
      - codemagicpoc/build/**/outputs/**/mapping.txt
      - codemagicpoc/flutter_drive.log
    publishing:
      email:
        recipients:
          - william.dev.acc@gmail.com
      google_play:
        credentials: Encrypted(Z0FBQUFBQmZpSjIwNXM3UnoyazdFRU5KdkN0Sm9xa1FGdk0xSjRzazZrVDBRS1dQUEMydWQ0OFc5cTJMRnF0ZTNkRnMxcFlfMVdsMnpwMmZGeUZyT0drRUdEUDNuOFBpdWJqVmdTX09rbG9HY1FjSVI3U2FXUDF5enFLYzlYSUNMdWZIV1VDVVl2UlpVS0puTkJISlhTSlNMbGxoUzh1RE9rMF9pZENqcGRyY1dMZ0I5WkZyNDFEMXhKS1l0TEI1NHJUQjdoVncwRGVNMVJkUXNiVjVsRm9Pdi1HRlAtV212dGNRUkZxVjVVNnhnYjJHM2xHb2tKSHdwVGxtYUhIdDlFS256V0hHNUl4WEJ6b05PN0NFdXFTWkgwaEtGdHpIcWlZd3RVb2NnN0ZiZWlpMzFicXh2cTVmY3FYaG52bHBhWFBEVW9vNDNpYXl3UnhveF9wMVJvUXl2eFlSckhnRE1ob1ZrUHBvSGVMSEJPd084Y1NXSWxibnBqQkdFaFlXbzJzQnFYZmVQTDk0TnY2YlZaamJEd3BxZGtPSXFmOVpHWi1vc2doZVZJbmxNbmswMWNPRWVFSHpnVXRSWFhPQS1UZTkySXdKWnMzR3kta2xSVTdpY1FYYkZjYkkwOWh6aEphc2l3WHg2ZHFtTUIwQWNRb2daNHlIWlBRcnB3TzlobGZoRHdReHo4NXA4bXF1OWxDRThaUmI2M1FyNnc4UTVSNFZQandtRTJPSlM5UDNydFFqWUZ1dnE0OTEtalRTdmlSdUc5R2h3WnNUMXYxWjBDZDBXLU0yYjZwSlphVHdDNHlsYmhlZzl4VnBMbENSZnZtai0zVC1pNjB1RmhJQzVkb0Q3R292MVplQTJWaTc1Ylc3RFk1aldYMC1RdWlfQjhQMjMxTzdMWVJWcElKcDI3WnN3SERVNV83V0VsSkp3ckZQc2ZNUVVUc1ZNNmo4LU5HNjQtN3dSa2dvNXJHY0t6ODgzS3dESWF5ZXI5TVFQWkdFMkt4SjBzNGtPeS0xT3pNOThCV3dVUlhQaENrQWhSZFRDZUJWMzAyZ0VUOWhNYWs4dE9zMjY1blZtelVOV01CT2VTRkhLQVRiSVRxbVh2LVlNbnJ4UGtZb0NBVWQ1MC0wOGJpUVhkNjUyRURPZWI4SjdTTWRwTFZsTHBUTmJVZnM0Ukt6TXp0ZEI2aTNkTFpXTHI2a0xYUi1TRkdzYy10QVd4eXM5TjFKeDFCQzhtLWQ2QnZjcHJldkVHTFROMVlmd2xjOXEyNlZabFY5bm5mbDF0dG5lYWhReDIyMG1DbDF6UkwtVDdKQ2Vmd1NXSE1sZEVlNGs0SjVqbE1DYzdobFNGdzVXZHZtZS1hTnJqcWZONVVZMkZ0Vm8zcjhPUzVhWlllLTJBS25UdTdCbFV0d3luTXIxbnhxLURKeXl2dGEzX3ZZM3NRa0xKZExWVFppd3RBSUFLdXUydDVrRVhqdEs2X3Z0LWFNYnpHY1JSVGE4SWpiQUd3TXpuUWgtRVNXYlpBYU5iV2pCVWsxVXEzY1FId2NGTy1xZUU0SmJtSVVSQlNlQUJ5YUQ1OTNrUjVUZVprMFBMTWpUbDU3UWIxNU1fazEwYW1fVDFEUS1TMmNZb2U3dDhVYTk2X0UtaGZra1lPTHk5ZUZlNUFTdzVkZVNDRlJpYTEtLWU2X2phaXFqb0dCZDBvRlBIUy0wemxQWEpQa1NndE1tNGxuTVhCMjBhZldCdERHdTJOeUN6cHF6M3c2UVQwZjB3bUEzYU9zbE9TcnE2MUdzeF9JbXQ2RWYwYTZILUdQUHpZQm12X0ZhNXg5bjh2Y2tmZFhmdzlOUzcxbmlFTlo4QVpDM2EyTWNHeV8wTzZDcU5aWFFPYUV1WXp3eTRaZ3YxWWxmT25TMks5UHZhLUZSU0ZtM25lSF9uZTQwLU5uMU9pN1hTLWdSME9HTExVanktOWxTVnpWOW1takllRmZCNW1QRDJRa2N1V2dCb1NfNkJadjBkWnFHQ3dMcmV5azJRUnJXS1UydFJjQWlFb3I4b2gySWVLb1VuYUpzWE5meHVFczJwYVJrcnZIamIzSDF3d0dfZTU0Q3pfR1VNWF96T2R1TG1OYUVkOWhhUm0yRUJHT2VxemJxTUJVR2VOMWlHb3pBRWJBaERGTzR4Y2xkQWtpa1BMUFh2c1NZSERuTjZ1OWotamU4UWpvZ2pLSmhLUlJBaTZsQ3Bvc2N6SkE1YVFFbDJjUmFndnZQTU93U282NlJYZjNwazVKcG1WWUVCNVN3N2c3WlpxaUcyQkRYaGJielh0YWRweXhSME5KNUlkM0JxTFZCWWFadG1UTXZLNFp3M3dSaGllQVJPRHNkc0xnVGpKUmRLM0hpNTRwQUZZNUpPRkwzc2xHSDBpLTdSemhNT1ZBMFpqT19jeUtLczhDbmktcFYyR19hbF93d3RuSWpQSVNoRzk5Y0FvU1o5d1U3a2l4OFBCTFV6LVdVZk5JR1lhVTFRblloNnc1NHhNdWtzYUxfTmRQSkotdjVrU2xoeFNqb3FDVkxXcFFWZVFNZzRBcGpqQnZGbmd1NDRIdlRzUEQwSnRnNlhXQjI5UktCOHJQRklnOUlzR2lMSGVlZS1GcnpCVmxVaGNPSHJzVlpaa1hmd0dJWWZITkRVRzdoX3VseXVGWXJSY2VQWUphVC1ZM0NHTGJIQmF6eDJaeFZzN2d1NHNkRzd2WjMyZEFqVmx2dl9EaFBFRWd3YmxGU1pyUW93S2N5Y2lSQzJHbW5aTUppbzAwRUtzZnZwcEZrV050dWpvRjhPVlcxemY1Zm9tMUpKeWxfZ2ROU1dUZ28zMGdkdHJmZXpobHF4c21uU0FxcF9RNE5DYjJKbkl4YkVSdGRWakRCZFpQcjJQY1ZRX21fXzBDSG1GdXMyYTZ1dlFseHFjU01WeWstams1bHA2V3Y2amxXV0l3MlFLZWJha0JxcHlabjlMai00YTBqTGpXTWtqWVZwTUFYcV8xTkZKeW1xNTVPc29JcllmXzFfc2hsU2FHS1Q5eDhQYnZsQ0ZBSzBXQm1fcmRyaW5PUGY1d2ZIeFh2OFRwMElrcE1QZjJOQkdaUjBTUFE2c0xsUnB3N2VGLWRiRTloLVNzS014SGNmVXphcnhXb1U3M3U0Qk90aVhjaXdKZWtrY3JGNGtrWmhqdG9WUF9JcmJKakhMVVhHQmdYdjdMNlFVTzBOaDZMdXBweWtlTHlrNWlmNGFjQ1NaRW9DdHhUZjctbFBFZHY4dU8wbnBkRHpiLTZfaWNRVmZXd04xMVlWRU9ZRzE2cTZiWDFpcmlLM09WRWpIeVhsUDNzdUlUYVMyVDIxaEp1UDBaczBPa3BPc29fcEV5Z2xlZEM3WDk5d2pfcV9abEo1NXZMNzhjV0VUYTNJcmg3S2dtX1o1QTJ0UEwwSno0S0UwVTQtd1RkaVQwcHZsdWowWkdzcGdVVHRpS3kxb3VYUUVIcHV0WUlLb2QzdEdUdUdVRTN5SEhyS2hmOGR0Q19wMVVBRjFSVTRHV1h0TDVyXzB2TE9yRjhCQUtXb3ZnMXpvY0x0Sk9udkwtd2tmOWhOYkZXaldWcGhmZkVSQzFqYU5nLURJcEN2bXlGaUtsRFBtNjVMQmNBc2RCenBWRWtuRm5nUEhFMWNGZ19KYlpWNG5OMFY5Nzk4Y2hpczlNbWxiS3ZZUDBpbmNlckFMODFycWlJSVdZSFVkU3NyakwtU2NBY1RtRHlHRlpBWWx0S1NZaGlaM2VfSHpzak5HSGtiZXMtdWw0cHpaWERZQTRnNGdYMVRtLVIzNGtXV1VEOU9pLW03RWI3ajFzRnM2eDlvZk0zTkhMWFpBTGxmVjNyMmMzTWJhaEdxako1WjFkcXVGMEVLLWJKdEdsWVJ3bUUyeXNPS3FmU3RJVHEzWjJHTGtkUXdBZzhnbEl5a3c3SWtLZWV3ZWk4QUZRRmRUU2xNQTRyYjQ4dDB3ZXc3Y3R0ZWZJY1dZU3NjRG93T0N4LWxVTW1KNHVHV0JnMmJ1YU0yRGwzQTRYazRJWVB6ejdEbUlVUVJieC1wcVEzUU51WHNjdW9OaTg4WjFoRTdrNUZNWFBhNElWMmVncVRBeC1JSEZZS1A5ZWJjUEJUeC1KcWJFcktxWV9wc1Y1VGRnMG9seGx1bFEwYzRMTFl6OS1KREtYclMyTGFib1NUMkZSTVljZnV4TktzRTlaejdTNnhUYWc2NFNadFYxeVE5ZUtZMGREdzBSd0N1b0M4T2tkby1LcVJqajFtUE1ncEFUT3FnSGJmY1RJdTdsaEZKSjVVaWVKcDdpd0pJUmoxWGc3T0s1ZVhBQ3VQdzFVQi1IdjNCeElCYUY4)
        track: internal
  prod:
    name: PROD
    max_build_duration: 30
    environment:
      flutter: stable
      xcode: latest
      cocoapods: default
    cache:
      cache_paths: []
    triggering:
      events:
        - push
      branch_patterns:
        - pattern: '*PROD*'
          include: true
          source: true
    scripts:
      - |
        # set up debug keystore
        rm -f ~/.android/debug.keystore
        keytool -genkeypair \
          -alias androiddebugkey \
          -keypass android \
          -keystore ~/.android/debug.keystore \
          -storepass android \
          -dname 'CN=Android Debug,O=Android,C=US' \
          -keyalg 'RSA' \
          -keysize 2048 \
          -validity 10000
      - cd codemagicpoc && flutter packages pub get
      - cd codemagicpoc && flutter build apk --release --dart-define=project_env=prod
    artifacts:
      - codemagicpoc/build/**/outputs/**/*.apk
      - codemagicpoc/build/**/outputs/**/*.aab
      - codemagicpoc/build/**/outputs/**/mapping.txt
      - codemagicpoc/flutter_drive.log
    publishing:
      email:
        recipients:
          - william.dev.acc@gmail.com
